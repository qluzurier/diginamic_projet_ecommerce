{% extends 'base.html.twig' %}

{% block title %}Le catalogue
{% endblock %}

{% block body %}
	<h1 class="text-center margin-b-g">Boutique</h1>



{# Formulaires de recherche #}
			<center>
				<form class="">
					<input class="form-control w-50" type="search" placeholder="rechercher" aria-label="Search">
					<button class="btn btn-outline-success" type="submit">ok</button>
				</form>
			</center>

        <center>
			<div class="filter">	
				<h3 class="">Catégorie</h3>
				<form>
					<select name="type_search">
						{% for type in types %}
							<option>
								{{type}}
							</option>
						{% endfor %}
					</select> 

					<select name="genre_search">
						{% for genre in genres %}
							<option>
								{{genre}}
							</option>
						{% endfor %}
					</select>
					&nbsp;&nbsp;&nbsp;
					<label>
						Fourchette de prix :
					</label>

					{# affiche le prix sélectionné #}
					<input type="number" id="prix" value="" disabled>

					{# sélecteur de prix ( de 0 à 100). Incrémente de 10 en 10 (step="10") #}
					<input name="select_prix" type="range" step="10" min="0" max="100" onchange="updateTextInput(this.value);"><br>
					<script>
						function updateTextInput(val) {
							document.getElementById('prix').value = val;
						}
					</script><br>
					<input type="submit" value="Rechercher"></input>
		        </form>
			</div>
		</center>
		

  
	<div class="container margin-tb">

	    <div class="row">
			{# Génération dynamique des articles #}
			{% for article in articles %}
				<div class="col-3 margin-tb">
					<div class="row height">
						<div class="col-sm margin-left card">
							<div class="width-img bg-dark">
								<img src="{{ article.photo1 }}" class="card-img-top" alt="...">
							</div>
							<div class="rgba">
								<h5 class="card-title text-light">{{article.designation}}</h5>
							</div>
							<div class="d-flex justify-content-center position">
								<a href="{{ path("panier_add_article", {'id': article.id}) }}" class="btn btn-primary">Ajouter au panier</a>
							</div>
						</div>
					</div>
				</div>

			{% endfor %}

			{# Boutons Précédent et suivant #}
			<center>
				<div class="col-12">
					{% if previous >= 0 %}
						<a href="{{ path('homepage', { offset: previous }) }}" class="btn btn-md btn-primary">Précédent</a>
					{% endif %}

					Il y a
					{{ articles|length~' article'~( articles|length > 1 ? 's' : '') }}

					{% if next < articles|length %}
						<a href="{{ path('homepage', { offset: next }) }}" class="btn btn-md btn-primary">Suivant</a>
					{% endif %}
				</div>
			</center>
		</div>
	</div>


{% endblock %}
